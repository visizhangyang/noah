<ion-view view-title="编辑客户"
          hide-back-button="true"
          class="customer-edit-page">
  <ion-nav-buttons>
    <back-btn state="tab.crm"></back-btn>
  </ion-nav-buttons>

  <ion-content>
    <form class="m-form" name="form" novalidate>
      <div class="list margin-top">
        <ion-input class="item item-input">
          <ion-label>客户名称</ion-label>
          <input type="text"
                 placeholder="必填"
                 ng-change="vm.formUtil.onInputChange(form)"
                 ng-model="vm.formUtil.data.name"
                 name="customerName"
                 required>
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>电话</ion-label>
          <input type="tel"
                 placeholder="请输入"
                 ng-pattern="/1[3|4|5|7|8][0-9]\d{8}$|^0{6}\d{5}$|^(0\d{2,3}-)?(\d{7,8})(-\d{1,4})?$/"
                 name="telNum"
                 ng-model="vm.formUtil.data.phone">
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>所在公司</ion-label>
          <input type="text"
                 ng-model="vm.formUtil.data.company"
                 placeholder="请输入" >
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>客户职位</ion-label>
          <input type="text"
                 ng-model="vm.formUtil.data.job_position"
                 placeholder="请输入" >
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>详细地址</ion-label>
          <input type="text"
                 ng-model="vm.formUtil.data.address"
                 placeholder="请输入详细地址信息" >
        </ion-input>
        <ion-toggle toggle-class="toggle-u"
                    ng-model="vm.formUtil.data.important">
          是否标记为重要客户
        </ion-toggle>

        <!--<ion-input class="item item-input item-select">-->
          <!--<ion-label>所属区域</ion-label>-->
          <!--<select ng-options="opt.value as opt.name for opt in vm.statusOptions"-->
                  <!--ng-model="vm.formUtil.data.area">-->
          <!--</select>-->
        <!--</ion-input>-->
        <ion-input class="item item-input item-select">
          <ion-label>客户状态</ion-label>
          <select ng-options="opt.value as opt.name for opt in vm.statusOptions"
                  ng-model="vm.formUtil.data.status">
          </select>
        </ion-input>
        <ion-input class="item item-input item-select">
          <ion-label>客户来源</ion-label>
          <select ng-options="opt.value as opt.name for opt in vm.sourceOptions"
                  ng-model="vm.formUtil.data.source">
          </select>
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>生日</ion-label>
          <input type="date" ng-model="vm.formUtil.data.birthday" />
        </ion-input>

        <ion-input class="item item-input">
          <ion-label>微信</ion-label>
          <input type="text" ng-model="vm.formUtil.data.we_chat" />
        </ion-input>
        <ion-input class="item item-input">
          <ion-label>备注</ion-label>
          <input type="text"  ng-model="vm.formUtil.data.note" />
        </ion-input>


        <div class="error">
          <span ng-if="form.telNum.$dirty && form.telNum.$invalid && form.telNum.$touched">
            电话号码格式不正确
          </span>
          <div ng-if="vm.formUtil.submitError">
            <span>
              {{ vm.formUtil.submitError }}
            </span>
          </div>
        </div>
      </div>

      <div class="block-btn-div">
        <button class="button button-block button-positive"
                on-request="vm.goNext($event, form.$valid)"
                ng-disabled="form.$invalid">
          确认
        </button>
      </div>
    </form>

  </ion-content>

</ion-view>
